import Tabs from "@theme/Tabs"
import TabItem from "@theme/TabItem"

import app from "/connection/synology/1.png"

# Synology

### 群晖 NAS 中使用 PassNAT 进行内网穿透

:::tip
如果你的群晖版本在 7.1 以下，请使用 Docker 启动原生的 Frp 客户端。
:::

<Tabs queryString="current">
  <TabItem value="latest" label="群晖版本 >= 7.1" default>
    1. 添加套件源 `https://spk7.imnks.com` 
    <img src={app} alt="app" />
    
    2. 安装 `Frpc客户端` 套件
    3. 打开 `Frpc客户端` 套件，粘贴 PassNAT 控制台提供的配置信息

    如果需要关闭 Frpc 客户端，可以直接清空配置信息并保存。隧道将会被暂停。

  </TabItem>

  <TabItem value="old" label="群晖版本 < 7.1">

  </TabItem>
</Tabs>

### 群晖系统穿透过程中常见问题

- 群晖系统版本低于 7.1 时，需要使用 Docker 启动 Frp 客户端
- 如果出现 400 Bad Request The plain HTTP request was sent to HTTPS port ，则说明你正在使用 HTTP 协议访问 HTTPS 端口。你有两种解决方案：
  1. 使用 HTTPS 协议访问 HTTPS 端口。即在浏览器中输入 `https://域名:端口`
  2. 群晖中打开 控制面板 -> 登录门户 -> 网页门户 -> 自动将 DSM 桌面的 HTTP 请求重定向到 HTTPS 请求 -> 关闭 ， 再使用 PassNAT 穿透 HTTP 端口
